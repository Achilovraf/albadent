import{_ as z,r as g,A as O,o as T,c as i,a as e,m as b,d as n,f as B,t as u,F as w,i as k,w as F,k as j,v as C,j as a}from"./index-BygExbgf.js";const E={class:"min-h-screen bg-gray-50"},N={class:"max-w-7xl mx-auto px-4 py-8"},L={key:0},R={class:"flex items-center justify-between mb-8","data-aos":"fade-down"},q={class:"flex items-center space-x-4"},W={class:"text-2xl font-bold text-gray-900"},H={class:"bg-white rounded-xl shadow-md p-6 mb-8","data-aos":"fade-up"},J={class:"flex items-center space-x-4 text-sm text-gray-600"},K={class:"flex items-center space-x-2"},P={class:"flex items-center space-x-2"},Q={key:0,class:"mt-3 text-gray-700"},X={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},Y=["data-aos-delay"],Z={class:"aspect-square overflow-hidden"},ee={key:0,class:"relative w-full h-full bg-gray-900"},te=["src"],se={class:"absolute inset-0 flex items-center justify-center"},oe={class:"bg-black bg-opacity-50 rounded-full p-3"},le=["src","alt"],ie={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"},ae=["onClick"],ne={key:1,class:"text-center py-16 bg-white rounded-xl","data-aos":"fade-up"},de={key:1},re={class:"flex items-center justify-between mb-8","data-aos":"fade-up"},ce={key:0,class:"text-center py-16 bg-white rounded-xl","data-aos":"fade-up"},ue={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},pe=["onClick","data-aos-delay"],ge={class:"aspect-video bg-gray-100 relative overflow-hidden"},fe={key:0,class:"grid grid-cols-2 h-full gap-1"},xe={key:0,class:"relative w-full h-full"},ve=["src"],me={class:"absolute inset-0 flex items-center justify-center"},be={class:"bg-black bg-opacity-30 rounded-full p-1"},he=["src"],ye={key:1,class:"flex items-center justify-center h-full"},_e={key:2,class:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-lg"},we={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},ke={class:"flex space-x-1"},je=["onClick"],Ce=["onClick"],Fe={class:"p-4"},De={class:"flex items-center justify-between mb-2"},Ge={class:"font-semibold text-gray-900 truncate flex-1"},$e={class:"flex items-center space-x-1 text-blue-600 text-sm ml-2"},Ie={key:0,class:"text-sm text-gray-600 mb-3 line-clamp-2"},Ae={class:"flex items-center text-sm text-gray-500"},Me={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Se={class:"bg-white rounded-xl shadow-2xl w-full max-w-md","data-aos":"zoom-in","data-aos-duration":"300"},Ve={class:"p-6"},Ue={class:"flex items-center justify-between mb-6"},ze={class:"text-xl font-bold text-gray-900"},Oe={class:"space-y-4"},Te={class:"flex space-x-3 mt-8"},Be={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ee={class:"bg-white rounded-xl shadow-2xl w-full max-w-md","data-aos":"zoom-in","data-aos-duration":"300"},Ne={class:"p-6"},Le={class:"flex items-center justify-between mb-6"},Re={class:"space-y-4"},qe={class:"w-full border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors cursor-pointer block"},We={__name:"Gallery",setup(He){const c=g([]),h=g("list"),r=g(null),x=g(!1),v=g(!1),f=g(null),y=g(null),d=O({title:"",date:new Date().toISOString().split("T")[0],description:""});T(()=>{const l=[{id:1,title:"Корпоративный тренинг",date:"15.03.2024",description:"Фотографии с корпоративного тренинга команды",files:[{id:1,type:"image",url:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400",name:"training1.jpg"},{id:2,type:"image",url:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=400",name:"training2.jpg"},{id:3,type:"image",url:"https://images.unsplash.com/photo-1556761175-b413da4baf72?w=400",name:"training3.jpg"},{id:4,type:"image",url:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?w=400",name:"training4.jpg"},{id:5,type:"image",url:"https://images.unsplash.com/photo-1515187029135-18ee286d815b?w=400",name:"training5.jpg"}]},{id:2,title:"Офисные мероприятия",date:"10.03.2024",description:"Различные офисные события и празднования",files:[{id:6,type:"image",url:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?w=400",name:"office1.jpg"},{id:7,type:"image",url:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=400",name:"office2.jpg"},{id:8,type:"image",url:"https://images.unsplash.com/photo-1573164713988-8665fc963095?w=400",name:"office3.jpg"}]}];c.value=l});const D=()=>{d.title="",d.date=new Date().toISOString().split("T")[0],d.description="",f.value=null},_=()=>{x.value=!1,D()},G=()=>{if(!d.title.trim()){alert("Введите название галереи");return}if(f.value){const l=c.value.findIndex(t=>t.id===f.value.id);l!==-1&&(c.value[l]={...c.value[l],...d})}else{const l={id:Date.now(),...d,files:[]};c.value.unshift(l)}_()},$=l=>{window.confirm("Вы уверены, что хотите удалить эту галерею?")&&(c.value=c.value.filter(t=>t.id!==l))},I=l=>{f.value=l,d.title=l.title,d.date=l.date,d.description=l.description||"",x.value=!0},A=l=>{Array.from(l.target.files).forEach(o=>{const s=new FileReader;s.onload=m=>{const p={id:Date.now()+Math.random(),type:o.type.startsWith("video/")?"video":"image",url:m.target.result,name:o.name};r.value.files.push(p)},s.readAsDataURL(o)}),v.value=!1,y.value&&(y.value.value="")},M=l=>{if(window.confirm("Удалить этот файл?")){r.value.files=r.value.files.filter(o=>o.id!==l);const t=c.value.findIndex(o=>o.id===r.value.id);t!==-1&&(c.value[t].files=r.value.files)}},S=l=>{r.value=l,h.value="detail",setTimeout(()=>{window.AOS&&window.AOS.refresh()},100)},V=l=>(l==null?void 0:l.slice(0,4))||[];return(l,t)=>{const o=B("font-awesome-icon");return a(),i("div",E,[e("div",N,[h.value==="detail"&&r.value?(a(),i("div",L,[e("div",R,[e("div",q,[e("button",{onClick:t[0]||(t[0]=s=>h.value="list"),class:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors"},[n(o,{icon:["fas","arrow-left"]}),t[9]||(t[9]=e("span",null,"Вернуться к галереям",-1))]),t[10]||(t[10]=e("div",{class:"text-gray-400"},"|",-1)),e("h1",W,u(r.value.title),1)]),e("button",{onClick:t[1]||(t[1]=s=>v.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-all duration-200 shadow-lg"},[n(o,{icon:["fas","upload"]}),t[11]||(t[11]=e("span",null,"Добавить файлы",-1))])]),e("div",H,[e("div",J,[e("div",K,[n(o,{icon:["fas","calendar"]}),e("span",null,u(r.value.date),1)]),e("div",P,[n(o,{icon:["fas","images"]}),e("span",null,u(r.value.files.length)+" файлов",1)])]),r.value.description?(a(),i("p",Q,u(r.value.description),1)):b("",!0)]),r.value.files.length>0?(a(),i("div",X,[(a(!0),i(w,null,k(r.value.files,(s,m)=>(a(),i("div",{key:s.id,class:"group relative bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300","data-aos":"zoom-in","data-aos-delay":m*50},[e("div",Z,[s.type==="video"?(a(),i("div",ee,[e("video",{src:s.url,class:"w-full h-full object-cover",muted:""},null,8,te),e("div",se,[e("div",oe,[n(o,{icon:["fas","play"],class:"text-white text-xl"})])])])):(a(),i("img",{key:1,src:s.url,alt:s.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,le))]),e("div",ie,[e("button",{onClick:p=>M(s.id),class:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors"},[n(o,{icon:["fas","trash"]})],8,ae)])],8,Y))),128))])):(a(),i("div",ne,[n(o,{icon:["fas","images"],class:"text-6xl text-gray-300 mb-4"}),t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Пока нет файлов",-1)),t[13]||(t[13]=e("p",{class:"text-gray-600 mb-6"},"Добавьте фотографии или видео в эту галерею",-1)),e("button",{onClick:t[2]||(t[2]=s=>v.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors"}," Добавить файлы ")]))])):(a(),i("div",de,[e("div",re,[t[15]||(t[15]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Галерея"),e("div",{class:"w-20 h-1 bg-blue-600 rounded-full"})],-1)),e("button",{onClick:t[3]||(t[3]=s=>x.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-all duration-200 shadow-lg"},[n(o,{icon:["fas","plus"]}),t[14]||(t[14]=e("span",null,"Создать галерею",-1))])]),c.value.length===0?(a(),i("div",ce,[n(o,{icon:["fas","images"],class:"text-6xl text-gray-300 mb-6"}),t[16]||(t[16]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Пока нет галерей",-1)),t[17]||(t[17]=e("p",{class:"text-gray-600 mb-8"},"Создайте свою первую галерею для хранения фотографий и видео",-1)),e("button",{onClick:t[4]||(t[4]=s=>x.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg transition-colors"}," Создать галерею ")])):(a(),i("div",ue,[(a(!0),i(w,null,k(c.value,(s,m)=>(a(),i("div",{key:s.id,class:"group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer",onClick:p=>S(s),"data-aos":"fade-up","data-aos-delay":m*100},[e("div",ge,[s.files.length>0?(a(),i("div",fe,[(a(!0),i(w,null,k(V(s.files),(p,U)=>(a(),i("div",{key:U,class:"relative overflow-hidden"},[p.type==="video"?(a(),i("div",xe,[e("video",{src:p.url,class:"w-full h-full object-cover",muted:""},null,8,ve),e("div",me,[e("div",be,[n(o,{icon:["fas","play"],class:"text-white text-xs"})])])])):(a(),i("img",{key:1,src:p.url,alt:"",class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,he))]))),128))])):(a(),i("div",ye,[n(o,{icon:["fas","images"],class:"text-4xl text-gray-300"})])),s.files.length>4?(a(),i("div",_e," +"+u(s.files.length-4),1)):b("",!0),e("div",we,[e("div",ke,[e("button",{onClick:F(p=>I(s),["stop"]),class:"bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-700 p-1.5 rounded-lg transition-colors"},[n(o,{icon:["fas","edit"],class:"text-sm"})],8,je),e("button",{onClick:F(p=>$(s.id),["stop"]),class:"bg-white bg-opacity-90 hover:bg-opacity-100 text-red-500 p-1.5 rounded-lg transition-colors"},[n(o,{icon:["fas","trash"],class:"text-sm"})],8,Ce)])])]),e("div",Fe,[e("div",De,[e("h3",Ge,u(s.title),1),e("div",$e,[n(o,{icon:["fas","calendar"],class:"text-xs"}),e("span",null,u(s.date),1)])]),s.description?(a(),i("p",Ie,u(s.description),1)):b("",!0),e("div",Ae,[n(o,{icon:["fas","images"],class:"mr-1 text-xs"}),e("span",null,u(s.files.length)+" файлов",1)])])],8,pe))),128))]))])),x.value?(a(),i("div",Me,[e("div",Se,[e("div",Ve,[e("div",Ue,[e("h3",ze,u(f.value?"Редактировать галерею":"Создать галерею"),1),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600 transition-colors"},[n(o,{icon:["fas","times"],class:"text-xl"})])]),e("div",Oe,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Название галереи ",-1)),j(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>d.title=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Введите название галереи"},null,512),[[C,d.title]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Дата ",-1)),j(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>d.date=s),type:"date",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"},null,512),[[C,d.date]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Описание (необязательно) ",-1)),j(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>d.description=s),class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",rows:"3",placeholder:"Добавьте описание галереи"},null,512),[[C,d.description]])])]),e("div",Te,[e("button",{onClick:_,class:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors"}," Отмена "),e("button",{onClick:G,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg transition-colors"},u(f.value?"Сохранить":"Создать"),1)])])])])):b("",!0),v.value?(a(),i("div",Be,[e("div",Ee,[e("div",Ne,[e("div",Le,[t[21]||(t[21]=e("h3",{class:"text-xl font-bold text-gray-900"},"Добавить файлы",-1)),e("button",{onClick:t[8]||(t[8]=s=>v.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[n(o,{icon:["fas","times"],class:"text-xl"})])]),e("div",Re,[e("label",qe,[e("input",{ref_key:"fileInput",ref:y,type:"file",multiple:"",accept:"image/*,video/*",onChange:A,class:"hidden"},null,544),n(o,{icon:["fas","cloud-upload-alt"],class:"text-4xl text-gray-400 mb-3"}),t[22]||(t[22]=e("p",{class:"text-gray-600 mb-1"},"Нажмите для выбора файлов",-1)),t[23]||(t[23]=e("p",{class:"text-sm text-gray-500"},"Поддерживаются изображения и видео",-1))])])])])])):b("",!0)])])}}},Ke=z(We,[["__scopeId","data-v-5e375690"]]);export{Ke as default};
